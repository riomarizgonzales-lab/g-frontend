<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Admin - MARCOM</title>
  <link rel="stylesheet" href="css/style.css"/>
  <script src="config.js"></script>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo-section">
        <div class="logo-icon">üè™</div>
        <div class="logo-text">
          <h1>MARCOM</h1>
          <p>ADMIN</p>
        </div>
      </div>
      <nav>
        <a href="index.html">üè† Home</a>
        <a href="dashboard.html">üìä Dashboard</a>
        <button id="logoutBtn" style="background: rgba(255, 107, 107, 0.2); border: 1px solid rgba(255, 107, 107, 0.4); color: #ff6b6b; padding: 10px 14px; border-radius: 8px; cursor: pointer; font-weight: 600;">üö™ Logout</button>
      </nav>
    </header>

    <main>
      <div class="admin-grid">
        <!-- Left Panel: Forms -->
        <div class="admin-forms">
          <!-- Product Form -->
          <div class="admin-card">
            <h3>‚ûï Add New Product</h3>
            <div id="productMsg"></div>
            <form id="productForm">
              <input name="name" placeholder="Product name" required/>
              <textarea name="description" placeholder="Product description" rows="3"></textarea>
              <input name="price" placeholder="Price (‚Ç±)" type="number" step="0.01" min="0" required/>
              <input type="file" name="image" accept="image/*"/>
              <small>Max file size: 5MB (JPG, PNG, GIF)</small>
              <button type="submit">Add Product</button>
            </form>
          </div>

          <!-- User Form -->
          <div class="admin-card">
            <h3>‚ûï Add New User</h3>
            <div id="userMsg"></div>
            <form id="adminUserForm">
              <input name="name" placeholder="Full name" required/>
              <input name="email" placeholder="Email address" type="email" required/>
              <input name="password" placeholder="Password" type="password" required/>
              <select name="role">
                <option value="user">Regular User</option>
                <option value="admin">Admin</option>
              </select>
              <button type="submit">Add User</button>
            </form>
          </div>
        </div>

        <!-- Right Panel: Tables & Products -->
        <div class="admin-content">
          <!-- Users Table -->
          <div class="admin-card">
            <h3>üë• Users Management</h3>
            <div class="table-wrapper">
              <table>
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Role</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="usersTable"></tbody>
              </table>
            </div>
          </div>

          <!-- Products Display -->
          <div class="admin-card">
            <h3>üì¶ Products Management</h3>
            <div id="adminProducts" class="admin-products-grid"></div>
          </div>
        </div>
      </div>
    </main>

    <footer>¬© 2025 MARCOM Computer Shop. All rights reserved.</footer>
  </div>

  <script src="admin.js"></script>
  <!-- Edit product modal -->
  <div id="editProductModal" style="display:none;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);z-index:1200;align-items:center;justify-content:center;backdrop-filter:blur(4px);">
    <div style="background:var(--midnight-card);padding:36px;border-radius:12px;border:1px solid var(--midnight-border);width:90%;max-width:520px;box-shadow:0 20px 60px rgba(0,0,0,0.5);">
      <h2 style="color:var(--accent-white);">Edit Product</h2>
      <form id="editProductForm">
        <input name="name" id="edit-name" placeholder="Product name" required/>
        <textarea name="description" id="edit-description" placeholder="Product description" rows="3"></textarea>
        <input name="price" id="edit-price" placeholder="Price (‚Ç±)" type="number" step="0.01" min="0" required/>
        <div style="display:flex;gap:12px;align-items:center;margin-bottom:12px;">
          <div style="flex:1;">
            <input type="file" name="image" id="edit-image" accept="image/*"/>
            <small>Choose a new image (optional)</small>
          </div>
          <div id="edit-image-preview"></div>
        </div>
        <div style="display:flex;gap:10px;justify-content:flex-end;">
          <button class="btn-secondary" type="button" onclick="document.getElementById('editProductModal').style.display='none'">Cancel</button>
          <button class="btn-primary" type="submit">Save Changes</button>
        </div>
      </form>
    </div>
  </div>
</body>
</html>
